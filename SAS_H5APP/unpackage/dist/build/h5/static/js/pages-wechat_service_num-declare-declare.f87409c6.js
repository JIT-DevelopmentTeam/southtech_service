(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-wechat_service_num-declare-declare"],{"14d3":function(e,t,i){"use strict";i.r(t);var a=i("2a76"),n=i("fb10");for(var s in n)"default"!==s&&function(e){i.d(t,e,(function(){return n[e]}))}(s);i("b116");var l,r=i("f0c5"),o=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"1a7358f2",null,!1,a["a"],l);t["default"]=o.exports},2453:function(e,t,i){"use strict";var a=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.calculationTime=l,t.isTime=r,i("a481"),i("ac6a"),i("456d");var n=i("f4c6"),s=a(i("83af"));function l(e){var t;n.dic;var i=(0,s.default)(e);for(var a in t=i.isBefore((0,s.default)())?"已过去 "+i.fromNow(!0):"还有 "+i.toNow(!0),n.dic){var l=Object.keys(n.dic);t=-1!=t.indexOf(l[l.length-1])?n.dic[l[l.length-1]]:t.replace(a,n.dic[a])}return t}function r(e){var t,i=(0,s.default)(e);return t=i.isBefore((0,s.default)())?0:1,t}},"274b":function(e,t,i){"use strict";e.exports={error:"",check:function(e){for(var t=0;t<e.length;t++)switch(e[t].checkType){case"String":if(!e[t].value)return this.error=e[t].errorMsg,!1;break;case"length":if(!e[t].value.length)return this.error=e[t].errorMsg,!1;break}return!0}}},"2a76":function(e,t,i){"use strict";var a,n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"fl-picker",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),!e.disabled&&e.showPicker()}}},[i("v-uni-view",{staticClass:"box"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"label-left"},[e._v("当前选择")]),i("v-uni-view",{staticClass:"value-right"},[e._t("default")],2)],1),i("uni-popup",{ref:"popup",attrs:{type:e.typeStyle,maskClick:e.maskClick}},[i("v-uni-view",{staticClass:"picker",attrs:{catchtouchmove:"true"}},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticClass:"cancel",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.closePicker.apply(void 0,arguments)}}},[e._v("关闭")]),i("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:"1"==e.open,expression:"open == '1'"}],staticClass:"ok",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.okClick.apply(void 0,arguments)}}},[e._v("确定")])],1),e.listArr.length>0?i("v-uni-view",{staticClass:"list"},e._l(e.listArrNew,(function(t,a){return i("v-uni-view",{key:a,class:{active:t.select},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.itemClick(t)}}},[e._v(e._s(t.name))])})),1):i("v-uni-view",{staticClass:"list"},[e._v("未接收到数据")]),e.mess?i("v-uni-view",{staticClass:"mess"},[e._v(e._s(e.mess))]):e._e()],1)],1)],1)},s=[];i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a}))},"2fd9":function(e,t,i){"use strict";i.r(t);var a=i("a8c8"),n=i("4b7a");for(var s in n)"default"!==s&&function(e){i.d(t,e,(function(){return n[e]}))}(s);i("933c");var l,r=i("f0c5"),o=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"60987e92",null,!1,a["a"],l);t["default"]=o.exports},"4b7a":function(e,t,i){"use strict";i.r(t);var a=i("fcc3"),n=i.n(a);for(var s in a)"default"!==s&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=n.a},"7d86":function(e,t,i){var a=i("a1f3");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("1b928f97",a,!0,{sourceMap:!1,shadowMode:!1})},"7e5c":function(e,t,i){var a=i("98df");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("7f108ea8",a,!0,{sourceMap:!1,shadowMode:!1})},"933c":function(e,t,i){"use strict";var a=i("7d86"),n=i.n(a);n.a},"98df":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.fl-picker .box[data-v-1a7358f2]{width:100%}.fl-picker .label-left[data-v-1a7358f2]{display:inline;width:10%;margin-right:%?20?%;font-size:%?25?%}.fl-picker .value-right[data-v-1a7358f2]{display:inline;width:90%}.fl-picker .picker[data-v-1a7358f2]{background-color:#fff;color:#666;height:200px}.fl-picker .picker .title[data-v-1a7358f2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;border-bottom:solid 1px #efefef;padding:%?0?% %?20?%;line-height:%?70?%;font-size:%?28?%;font-weight:700}.fl-picker .picker .title .ok[data-v-1a7358f2]{color:#00f}.fl-picker .picker .list[data-v-1a7358f2]{padding:%?0?% %?10?%;padding:%?20?% %?0?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-flow:wrap;flex-flow:wrap}.fl-picker .picker .list uni-view[data-v-1a7358f2]{background:#efefef;text-align:center;margin:%?10?%;padding:%?6?% %?20?%;border-radius:%?6?%;color:#777;font-size:%?30?%}.fl-picker .picker .list .active[data-v-1a7358f2]{background:#00f;color:#fff}.fl-picker .picker .mess[data-v-1a7358f2]{padding:%?0?% %?20?%;margin-bottom:%?20?%;text-align:left}',""]),e.exports=t},"9cc9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("28a5");var a={name:"fl-picker",props:{mess:String,listArr:{type:Array,default:function(){return[]}},defaultArr:{type:String,default:""},type:{type:String,default:"single"},disabled:{type:[String,Boolean],default:!1},maskClick:{type:Boolean,default:!1},typeStyle:{type:String,default:"bottom"},open:{type:String,default:"0"},show:{type:Boolean,default:!0}},data:function(){return{listArrNew:{}}},components:{uniPopup:function(){return i.e("chunk-4306947c").then(i.bind(null,"dfba"))}},watch:{defaultArr:function(e){this.initValue()}},methods:{showPicker:function(){this.$refs.popup.open()},closePicker:function(){this.$refs.popup.close(),this.initValue()},initValue:function(){var e=this.defaultArr.split(","),t={};for(var i in this.listArr){var a=!1;e.length>0&&-1!=e.indexOf(this.listArr[i].text)&&(a=!0),t[i]={index:i,name:this.listArr[i].text,select:a,value:this.listArr[i].value}}this.listArrNew=t},itemClick:function(e){if(e.select?e.select=!1:e.select=!0,"single"==this.type)for(var t in this.listArrNew){var i=this.listArrNew[t];i.name!=e.name&&(i.select=!1)}},okClick:function(){var e={},t={},i="",a="",n="";for(var s in this.listArrNew){var l=this.listArrNew[s];l.select&&(t[l.index]=l.name,a+=(""==a?"":",")+l.index,i+=(""==i?"":",")+l.name,n+=(""==n?"":",")+l.value)}e["list"]=t,e["indexStr"]=a,e["textStr"]=i,e["valueStr"]=n,this.$emit("click",e),this.closePicker()}},mounted:function(){this.initValue()}};t.default=a},a1f3:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,".label[data-v-60987e92]{font-size:%?32?%;display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex}.inline[data-v-60987e92]{display:inline-block;font-size:%?30?%}.textarea[data-v-60987e92]{width:100%}.spacing[data-v-60987e92]{margin-right:%?20?%}.gird[data-v-60987e92]{display:grid;grid-template-columns:50% 50%}.validation[data-v-60987e92]{color:red;font-size:%?24?%}",""]),e.exports=t},a8c8:function(e,t,i){"use strict";var a={"fl-picker":i("14d3").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-form",{on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.formSubmit.apply(void 0,arguments)},reset:function(t){arguments[0]=t=e.$handleEvent(t),e.formReset.apply(void 0,arguments)}}},[i("field",{attrs:{label:"设备编号: "}},[i("v-uni-label",{staticClass:"label"},[e._v(e._s(e.deviceNo))])],1),i("field",{attrs:{label:"设备名称: "}},[i("v-uni-label",{staticClass:"label"},[e._v(e._s(e.name))])],1),i("field",{attrs:{label:"故障时间: "}},[i("v-uni-label",{staticClass:"label"},[e._v(e._s(e.faultApplyTime))])],1),i("field",{attrs:{label:"项目地址: ",required:!0}},[i("v-uni-label",{staticClass:"label"},[i("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"填入项目地址"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1)],1),i("field",{attrs:{label:"所在片区: ",required:!0}},[i("v-uni-view",{staticClass:"inline"},[i("fl-picker",{attrs:{listArr:e.pqLocaList,defaultArr:e.areaText,disabled:!1,mess:"",open:"1",show:e.pqShow},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pqChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"label"},[e._v(e._s(e.areaText))])],1)],1)],1),i("field",{attrs:{label:"项目联系人: ",required:!0}},[i("v-uni-label",{staticClass:"label"},[i("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"填入联系人"},model:{value:e.contact,callback:function(t){e.contact=t},expression:"contact"}})],1)],1),i("field",{attrs:{label:"联系电话: ",required:!0}},[i("v-uni-label",{staticClass:"label"},[i("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"填入联系电话",maxlength:"11"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.phone.apply(void 0,arguments)}},model:{value:e.telephone,callback:function(t){e.telephone=t},expression:"telephone"}}),i("span",{staticClass:"validation"},[e._v(e._s(e.showTitle))])],1)],1),i("field",{attrs:{label:"故障部位: ",required:!0}},[i("v-uni-view",{staticClass:"inline"},[i("fl-picker",{attrs:{listArr:e.faultLocaList,defaultArr:e.faultLocaDefault,type:"multiple",disabled:!1,mess:"",open:"1",show:e.show},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.priceChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"label"},[e._v(e._s(e.faultLocaDefault))])],1)],1)],1),i("field",{attrs:{label:"故障描述: ",required:!0}},[i("v-uni-textarea",{staticClass:"inline textarea",attrs:{"adjust-position":e.adjust},model:{value:e.memo,callback:function(t){e.memo=t},expression:"memo"}})],1),i("field",{attrs:{label:"紧急程度: ",required:!0}},[i("v-uni-radio-group",{staticClass:"inline",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange.apply(void 0,arguments)}}},e._l(e.items,(function(t,a){return i("v-uni-label",{key:t.value},[i("v-uni-radio",{attrs:{value:t.value,checked:a===e.current}}),i("v-uni-view",{staticClass:"inline spacing"},[e._v(e._s(t.name))])],1)})),1)],1),i("field",{attrs:{label:"照片上传: "}},[i("chooseImage",{attrs:{num:9,size:150,isSave:!1,saveStr:"chooseImage",isClear:e.hasChooseImg,imageList:e.imageList,photoList:e.photoList,photoArr:e.photoArr,picRequestRUl:e.picRequestRUl},on:{"update:photoList":function(t){arguments[0]=t=e.$handleEvent(t),e.photoList=t},"update:photo-list":function(t){arguments[0]=t=e.$handleEvent(t),e.photoList=t},uploadPhotoSuccess:function(t){arguments[0]=t=e.$handleEvent(t),e.uploadPhotoSuccess.apply(void 0,arguments)},deletePhotoSuccess:function(t){arguments[0]=t=e.$handleEvent(t),e.deletePhotoSuccess.apply(void 0,arguments)}}})],1),i("field",[i("v-uni-view",{staticClass:"gird"},[i("v-uni-button",{attrs:{"form-type":"submit",type:"primary",size:"mini"}},[e._v("提交")]),i("v-uni-button",{attrs:{"form-type":"reset",type:"warn",size:"mini"}},[e._v("关闭")])],1)],1)],1)],1)},s=[];i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a}))},b116:function(e,t,i){"use strict";var a=i("7e5c"),n=i.n(a);n.a},f4c6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dic=void 0;var a={"a year":"1 年",years:"年","a month":"1 个月",months:"个月","a day":"1 天",days:"天","an hour":"1 小时",hours:"小时","a minute":"1 分钟",minutes:"分钟","a few seconds":"刚刚"};t.dic=a},fb10:function(e,t,i){"use strict";i.r(t);var a=i("9cc9"),n=i.n(a);for(var s in a)"default"!==s&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=n.a},fcc3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("1bcd"),n=i("2453"),s=i("274b"),l={name:"declare",data:function(){return{showTitle:"",picRequestRUl:"/f/mobile/upload/uploadPicture",show:!0,pqShow:!0,adjust:!0,items:[{value:"1",name:"非常紧急"},{value:"2",name:"紧急"},{value:"3",name:"一般",checked:"true"},{value:"4",name:"不紧急"}],current:2,hasChooseImg:"",imageList:[],photoList:[],photoArr:[],fileImag:[],del_photoId:"",area:"",areaText:"",address:"",contact:"",telephone:"",name:"",warrantyPeriod:"",contactNo:"",deviceNo:"",arress:"4",longitude:"",latitude:"",faultType:"",faultLocaDefault:"",memo:"",equipmentNum:"",faultApplyTime:"",faultAssignTime:"",enginnerUser:"",attachId:"",urgentLevel:""}},components:{field:function(){return i.e("chunk-5c5da283").then(i.bind(null,"816d"))},flPicker:function(){return Promise.resolve().then(i.bind(null,"14d3"))},chooseImage:function(){return Promise.all([i.e("chunk-e89dac22"),i.e("chunk-605a4e7d")]).then(i.bind(null,"8061"))}},methods:{formSubmit:function(e){var t=new FormData;t.append("arress",this.arress),t.append("address",this.address),t.append("contact",this.contact),t.append("telephone",this.telephone),t.append("area",this.area),t.append("longitude",""),t.append("latitude",""),t.append("faultType",this.faultType),t.append("faultTypeName",this.faultLocaDefault),t.append("memo",this.memo),t.append("equipmentNum",this.deviceNo),t.append("faultApplyTime",this.faultApplyTime),t.append("faultAssignTime",""),t.append("enginnerUser",""),t.append("urgentLevel",this.current),t.append("warrantyPeriod",this.warrantyPeriod);var i=this.fileImag,a="",n="",l="";if(null!=i)for(var r=0;r<i.length;r++)i.length-1===r?(a+=i[r].id,n+=i[r].fileName,l+=i[r].path):(a=a+i[r].id+",",n=n+i[r].fileName+",",l=l+i[r].path+",");t.append("attachId",a),t.append("phototName",n),t.append("photoPath",l);var o=[{value:this.address,checkType:"String",errorMsg:"项目地址不能为空"},{value:this.areaText,checkType:"String",errorMsg:"所在片区不能为空"},{value:this.contact,checkType:"String",errorMsg:"项目联系人不能为空"},{value:this.telephone,checkType:"String",errorMsg:"联系电话不能为空"},{value:this.faultLocaDefault,checkType:"String",errorMsg:"故障部位不能为空"},{value:this.memo,checkType:"String",errorMsg:"故障描述不能为空"}],c=s.check(o);c?this.onSubmit(t):uni.showToast({title:s.error,icon:"none"})},formReset:function(e){console.log("清空数据")},priceChange:function(e){var t=e.valueStr;void 0!==t&&""!==t&&(this.faultType=t,this.show=!1,this.faultLocaDefault=e.textStr)},pqChange:function(e){var t=e.valueStr;void 0!==t&&""!==t&&(this.area=t,this.pqShow=!1,this.areaText=e.textStr)},radioChange:function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].value===e.target.value){this.current=t,this.urgentLevel=e.target.value;break}},uploadPhotoSuccess:function(e,t){200==e.statusCode&&(this.fileImag=t)},deletePhotoSuccess:function(e,t,i){e.confirm&&(this.fileImag=t,this.del_photoId=i)},onSubmit:function(e){var t=this;(0,a.saveMalfunction)(e).then((function(e){console.log(e),200===e.status&&(uni.showToast({title:"保存成功",duration:1e3,mask:!0}),uni.navigateBack({delta:1}),t.$store.dispatch("contact/GetDataList"))})).catch((function(e){console.log(e)}))},delUploader:function(e){""!=e&&delUploadFile(e).then((function(e){200===e.status&&console.log("删除成功")})).catch((function(e){console.log(e)}))},phone:function(){""===this.telephone?this.showTitle="不可为空":/^1[34578]\d{9}$/.test(this.telephone)?this.showTitle="":(this.showTitle="联系电话格式错误",this.telephone="")}},onLoad:function(e){var t=JSON.parse(e.detailData);this.name=t.name,this.deviceNo=t.deviceNo,this.name=t.name,this.warrantyPeriod=this.time(t.lastDate),this.faultApplyTime=this.$moment().format("YYYY-MM-DD hh:mm:ss")},computed:{faultLocaList:function(){return this.$store.getters["dic/getServiceFaultLocaList"]},pqLocaList:function(){return this.$store.getters["dic/getRegionList"]},time:function(e){return function(e){return(0,n.isTime)(e)}}}};t.default=l}}]);